!function e(t,r,n){function a(i,s){if(!r[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(o)return o(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var h=r[i]={exports:{}};t[i][0].call(h.exports,function(e){var r=t[i][1][e];return a(r?r:e)},h,h.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,t,r){"use strict";var n={fontNo:6,dpi:203};r.config=n},{}],2:[function(e,t,r){"use strict";var n=e("./lib/api");"undefined"!=typeof window&&(window.zpl=n),"undefined"!=typeof r&&(r.zpl=n)},{"./lib/api":3}],3:[function(e,t,r){"use strict";r.convert=e("./converter").convert,r.revert=e("./reverter").revert,r.config=e("../config").config},{"../config":1,"./converter":19,"./reverter":20}],4:[function(e,t,r){"use strict";function n(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[2],t.showText=e[3],t.textAbove=e[4],t}function a(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.showText=e[2],t.textAbove=e[3],t.checkDigit=e[4],t}function o(e){var t={};switch(t.type="barcode",t.rot=e[0],t.height=e[1],e[2]){case"N":t.showText="N";break;case"A":t.showText="Y",t.textAbove="Y";break;case"B":t.showText="Y",t.textAbove="N"}return t.mode=e[3],t}function a(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.showText=e[2],t.textAbove=e[3],t.checkDigit=e[4],t}function i(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.showText=e[2],t.textAbove=e[3],t.checkDigit=e[4],t.mode=e[5],t}function s(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.showText=e[2],t.textAbove=e[3],t}function c(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.security=e[2],t.columns=e[3],t.rows=e[4],t.truncate=e[5],t}function d(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.security=e[2],t.columns=e[3],t.rows=e[4],t.mode=e[5],t}function h(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.mode=e[2],t}function l(e){var t={};return t.type="barcode",t.rot=e[0],t.checkDigit=e[1],t.height=e[2],t.showText=e[3],t.textAbove=e[4],t.startChar=e[5],t.stopChar=e[6],t}function f(e){var t={};return t.type="barcode",t.rot=e[0],t.height=e[1],t.textAbove=e[2],t}function u(e){var t={};return t.type="barcode",t.rot=e[0],t.checkDigit=e[1],t.height=e[2],t.showText=e[3],t.textAbove=e[4],t.checkDigit=e[5],t}function p(e){var t={};return t.type="qrcode",t.model=e[0],t.position=e[1],t.magnification=e[2],t.hqml=e[3],t}function v(e){var t={};return t.type="barcode",t.orientation=e[0],t.height=e[1],t.quality=e[2],t.columns=e[3],t.rows=e[4],t.format=e[5],t.escape=e[6],t}function m(e){var t={};return t.type="barcode",t.mode=e[0],t.position=e[1],t.total=e[2],t}var g={B1:{desc:"Code 11 Bar Code",parameters:"",handler:function(e){var t=n(e);return t.symbol="code11",t}},B2:{desc:"",parameters:"",handler:function(e){var t=a(e);return t.symbol="interleaved2of5",t}},B3:{desc:"",parameters:"",handler:function(e){var t=n(e);return t.symbol="code39",t}},B4:{desc:"",parameters:"",handler:function(e){var t=o(e);return t.symbol="code49",t}},B5:{desc:"",parameters:"",handler:function(e){var t=s(e);return t.symbol="planet",t}},B7:{desc:"",parameters:"",handler:function(e){var t=c(e);return t.symbol="pdf417",t}},B8:{desc:"",parameters:"",handler:function(e){var t=s(e);return t.symbol="ean8",t}},B9:{desc:"",parameters:"",handler:function(e){var t=a(e);return t.symbol="upce",t}},BA:{desc:"",parameters:"",handler:function(e){var t=a(e);return t.symbol="code93",t}},BB:{desc:"",parameters:"",handler:function(e){var t=d(e);return t.symbol="codablock",t}},BC:{desc:"",parameters:"",handler:function(e){var t=i(e);return t.symbol="code128",t}},BD:{desc:"",parameters:"",handler:function(e){var t=m(e);return t.symbol="maxicode",t}},BE:{desc:"",parameters:"",handler:function(e){var t=s(e);return t.symbol="ean13",t}},BF:{desc:"",parameters:"",handler:function(e){var t=h(e);return t.symbol="micropdf417",t}},BI:{desc:"",parameters:"",handler:function(e){var t=s(e);return t.symbol="industrial2of5",t}},BJ:{desc:"",parameters:"",handler:function(e){var t=s(e);return t.symbol="standard2of5",t}},BK:{desc:"",parameters:"",handler:function(e){var t=l(e);return t.symbol="ansicodabar",t}},BL:{desc:"",parameters:"",handler:function(e){var t=f(e);return t.symbol="logmars",t}},BM:{desc:"",parameters:"",handler:function(e){var t=u(e);return t.symbol="msi",t}},BP:{desc:"",parameters:"",handler:function(e){var t=n(e);return t.symbol="plessey",t}},BQ:{desc:"",parameters:"",handler:function(e){var t=p(e);return t.symbol="qrcode",t}},BS:{desc:"",parameters:"",handler:function(){}},BU:{desc:"",parameters:"",handler:function(e){var t=a(e);return t.symbol="upca",t}},BX:{desc:"",parameters:"",handler:function(e){var t=v(e);return t.symbol="datamatrix",t}},BY:{desc:"",parameters:"",handler:function(e){var t={};return t.scale_w=e[0],t.height=e[2],t}},BZ:{desc:"",parameters:"",handler:function(e){var t=s(e);return t.symbol="postal",t}}};r.barcodes=g},{}],5:[function(){"use strict"},{}],6:[function(e,t,r){"use strict";var n={FB:{desc:"Field Block",parameters:"",handler:function(e){var t={};switch(t.textType="W",t.width=parseInt(e[0]),t.maxLines=parseInt(e[1]),t.lineMargin=parseInt(e[2]),e[3]){case"L":t.textAlign="left";break;case"C":t.textAlign="center";break;case"R":t.textAlign="right";break;case"J":t.textAlign="justified";break;default:t.textAlign=""}return t.hangingIndent=parseInt(e[4]),t}},FC:{desc:"Field Clock",parameters:"",handler:function(){}},FD:{desc:"Field Data",parameters:"",handler:function(e){return e=e.trim(),{text:e}}},FH:{desc:"Field Hexadecimal Indicator",parameters:"0: hexadecimal indicator",handler:function(){}},FO:{desc:"Field Origin",parameters:"x, y, justification(0: left, 1: right, 2: auto)",handler:function(e){return e.length<2?void error_log("FO"):{left:parseInt(e[0]),top:parseInt(e[1]),justification:parseInt(e[2])}}},FS:{desc:"Field Separator",parameters:"",handler:function(){}},FT:{desc:"Field Typeset",parameters:"x, y, justification",handler:function(e){return e.length<2?void error_log("FO"):{left:parseInt(e[0]),top:parseInt(e[1]),justification:parseInt(e[2])}}},FX:{desc:"comment",parameters:"",handler:function(){}}};r.fields=n},{}],7:[function(e,t,r){"use strict";var n=e("./utils").rotation,a={A:{desc:"Scalable/Bitmapped Font",parameters:"f,o,h,w: f: font name, o: orientation, h: charHeight, w: width",handler:function(e){var t={},r=e.substr(0,1);if(e=e.substr(1),"@"===r){var a=e.split(",");if(t.charHeight=parseInt(a[1]),t.charWidth=parseInt(a[2]),4===a.length){var o=a[3];switch(o.substr(0,1)){case"R":break;case"E":break;case"B":break;case"A":}o=o.substr(2);var i=o.indexOf(".");o=o.substr(0,i),t.fontFamily=o}else if(3!==a.length)return void error_log("A@");return t.rotation=n(a[0]),t}var a=e.split(",");switch(t.charHeight=parseInt(a[1]),t.charWidth=parseInt(a[2]),a[0]){case"0":t.fontFamily="serif"}return t}},CF:{desc:"The ^CF command sets the default font used in your printer.",parameters:"^CFf,h,w",handler:function(e){var t={};switch(t.charHeight=parseInt(e[1]),t.charWidth=parseInt(e[2]||0),e[0]){case 0:t.fontFamily="serif";break;default:t.fontFamily="serif"}return t}},CI:{desc:"Change International Font/Encoding",parameters:"",handler:function(){}},CW:{desc:"Font Identifier",parameters:"a,d:o.x: a(A~Z, 0~9), ",handler:function(){}},FL:{desc:"Font Linking",parameters:"<ext>,<base>,<link>",handler:function(){}}};r.fonts=a},{"./utils":10}],8:[function(e,t,r){"use strict";var n=e("./barcodes").barcodes,a=e("./common").common,o=e("./fields").fields,i=e("./fonts").fonts,s=e("./shapes").shapes,c=function(){var e=[n,a,o,i,s],t={};return e.forEach(function(e){Object.assign(t,e)}),t}();r.commands=c},{"./barcodes":4,"./common":5,"./fields":6,"./fonts":7,"./shapes":9}],9:[function(e,t,r){"use strict";var n={DG:{desc:"Download Graphic use with ^XG",parameters:"^DGd:o.x,t,w,data: t: total number of bytes in graphic, w: number of bytes per row, data: ASCII hexadecimal string defining image",handler:function(e){var t={};t.id=e[0],t.totalSize=e[1],t.rowSize=e[2],t.data=e[3]}},GB:{desc:"Graphic Box",parameters:"w,h,t,c,r : t: border thickness, c: line color, r: degree of corner-rounding",handler:function(e){var t={};return t.type="rect",t.innerBorder=!0,t.width=parseInt(e[0]),t.height=parseInt(e[1]),t.lineWidth=parseInt(e[2]),t.strokeStyle="W"===e[3]?"white":"black",t}},GC:{desc:"Graphic Circle",parameters:"d,t,c : d: circle diameter",handler:function(e){var t={};return t.type="ellipse",t.rx=parseInt(e[0]),t.ry=parseInt(e[0]),t.lineWidth=parseInt(e[1]),t.fillStyle=e[2],t}},GD:{desc:"Graphic Diagonal Line",parameters:"w,h,t,c,o",handler:function(e){var t={};return t.type="line",t.width=parseInt(e[0]),t.height=parseInt(e[1]),t.lineWidth=parseInt(e[2]),t.strokeStyle="W"===e[3]?"white":"black",t.rotate=e[4],t}},GE:{desc:"Graphic Ellipse",parameters:"w,h,t,c",handler:function(e){var t={};return t.type="ellipse",t.rx=parseInt(e[0])/2,t.ry=parseInt(e[1])/2,t.lineWidth=parseInt(e[2]),t.strokeStyle="W"===e[3]?"white":"black",t}},GF:{desc:"Graphic Field",parameters:"a,b,c,d,data : a: compression type(A,B,C), b: binary byte count, c: graphic field count, d: bytes per row",handler:function(){}},GS:{desc:"Graphic Symbol",parameters:"o,h,w",handler:function(){}}};r.shapes=n},{}],10:[function(e,t,r){"use strict";r.rotation=function(e){switch(e){case"N":return Math.PI/180*0;case"R":return Math.PI/180*90;case"I":return Math.PI;case"B":return Math.PI/180*270}},r.get=function(e,t){return e[t]},r.specific=function(e){switch(e.type){case"line":e.x1=e.left,e.x2=e.left+e.width,e.x1==e.x2&&e.lineWidth>=100&&(e.x1+=e.lineWidth/2,e.x2+=e.lineWidth/2),"L"===e.rotate?(e.y1=e.top,e.y2=e.top+e.height):(e.y1=e.top+e.height,e.y2=e.top),delete e.left,delete e.top,delete e.width,delete e.height,delete e.rotate;break;case"ellipse":e.cx=e.left+e.rx,e.cy=e.top+e.ry,delete e.left,delete e.top;break;case"text":(fontBuf.charHeight||fontBuf.charWidth)&&Object.assign(e,fontBuf);break;case"rect":break;case"image_view":break;case"barcode":e.height||(e.height=barcodeBuf.height),e.scale_w||(e.scale_w=barcodeBuf.scale_w)}return e}},{}],11:[function(e,t,r){"use strict";function n(e){this.model=e,this.toZpl=function(e){var t=this.model,r=t.left,n=void 0===r?"":r,s=t.top,c=void 0===s?"":s,d=(t.width,t.height),h=void 0===d?"":d,l=t.symbol,f=void 0===l?"":l,u=t.rotation,p=void 0===u?"":u,v=t.scale_w,m=void 0===v?1:v,g=t.showText,b=void 0===g?"Y":g,x=t.textAbove,y=void 0===x?"":x,w=t.text,B=void 0===w?"":w;n+=e?e.left||0:0,c+=e?e.top||0:0;var k=i(p);switch(k){case"N":case"I":default:break;case"R":case"B":var I=o(this.model);n=I.x,c=I.y}var F=[];F.push(["^BY"+m,3]),b&&(h-=6*m+8);var M=a.dpi,A=new Map([["code11",["^B1"+k,,h,b,y]],["interleaved2of5",["^B2"+k,h,b,y]],["code39",["^B3"+k,,h,b,y]],["code49",["^B4"+k,h,b]],["planet",["^B5"+k,h,b,y]],["pdf417",["^B7"+k,h,,,,]],["ean8",["^B8"+k,h,b,y]],["upce",["^B9"+k,h,b,y]],["code93",["^BA"+k,h,b,y]],["codablock",["^BB"+k,h,,,,]],["code128",["^BC"+k,h,b,y,,]],["maxicode",["^BD"+k,,h,b,y]],["ean13",["^BE"+k,h,b,y]],["micropdf417",["^BF2",,]],["industrial2of5",["^BI"+k,h,b,y]],["standard2of5",["^BJ"+k,h,b,y]],["ansicodabar",["^BK"+k,,h,b,y,,]],["logmars",["^BL"+k,h,y]],["msi",["^BM"+k,,h,b,y]],["plessey",["^BP"+k,,h,b,y]],["qrcode",["^BQ"+k,2,Math.floor(h/M)]],["upca",["^BU"+k,h,b,y]],["datamatrix",["^BX"]],["postal",["^BZ"+k,h,b,y]]]),W=A.get(f);F.push("^FO"+n+","+c),F.push(W.join(",")),F.push("^FD"+B),F.push("^FS");var S=F.join("\n")+"\n";return S}}var a=e("../../config").config,o=e("./transcoord").shapeTranscoord,i=e("./transcoord").rotateCase;r.Barcode=n},{"../../config":1,"./transcoord":18}],12:[function(e,t,r){"use strict";function n(e){this.model=e,this.toZpl=function(e){var t=this.model,r=t.rx,n=void 0===r?"":r,s=t.ry,c=void 0===s?"":s,d=(t.cx,t.cy,t.lineWidth),h=void 0===d?"":d,l=t.fillStyle,f=t.strokeStyle,u=t.left,p=t.top,v=t.rotation,m=t.text,g=i(v);switch(g){case"N":case"I":default:break;case"R":case"B":var b=n;n=c,c=b;var x=o(this.model);u=x.x,p=x.y}f="white"===f||"#fff"===f||"#ffffff"===f?"W":"B",l&&(l="white"===l||"#fff"===l||"#ffffff"===l?"W":"B",h=Math.max(n,c),f=l),u+=e?e.left||0:0,p+=e?e.top||0:0;var y;y=n===c?"GC":"GE";var w=new Map([["GC",["^GC"+2*n,h,f]],["GE",["^GE"+2*n,2*c,h,f]]]),B=[],k=w.get(y);if(B.push("^FO"+u+","+p),B.push(k.join(",")),B.push("^FS"),B=B.join("\n"),B+="\n",m){var I=new a(this.model);B+=I.toZpl(e)}return B}}var a=e("./text").Text,o=e("./transcoord").shapeTranscoord,i=e("./transcoord").rotateCase;r.Ellipse=n},{"./text":17,"./transcoord":18}],13:[function(e,t,r){"use strict";function n(e){return this.model=e,this.model}r.Group=n},{}],14:[function(e,t,r){"use strict";function n(e){this.model=e,this.toZpl=function(e){var t=this.model,r=t.top||"",n=t.left||"",o=t.imageGrf;if(r+=e?e.top||0:0,n+=e?e.left||0:0,!o)return"";var i=a(),s=[["~DG"+i,o],["^FO"+n,r],["^XGR:"+i,1,1],["^PQ1"],["^FS"]],c="";return s.forEach(function(e){c+=e.join(",")+"\n"}),c}}function a(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}r.Image=n},{}],15:[function(e,t,r){"use strict";function n(e){this.model=e,this.toZpl=function(e){var t=this.model,r=t.x1,n=void 0===r?"":r,i=t.x2,s=void 0===i?"":i,c=t.y1,d=void 0===c?"":c,h=t.y2,l=void 0===h?"":h,f=t.fillStyle;f="white"===f||"#fff"===f||"#ffffff"===f?"W":"B";var u="";if(Math.round(100*n)===Math.round(100*s)||Math.round(100*d)===Math.round(100*l))return u=a.call(this,e);var p=o.call(this,e);return p.forEach(function(e){u+=e.join(",")+"\n"}),u}}function a(e){{var t=this.model,r=t.x1,n=void 0===r?"":r,a=t.x2,o=void 0===a?"":a,s=t.y1,c=void 0===s?"":s,d=t.y2,h=void 0===d?"":d,l=t.lineWidth,f=t.strokeStyle;t.rotation}f="white"===f||"#fff"===f||"#ffffff"===f?"W":"B";var u=Math.min(n,o),p=Math.min(c,h),v=Math.abs(o-n),m=Math.abs(h-c),g=0===v?l:v,b=0===m?l:m,x={left:u,top:p,width:g,height:b,lineWidth:l,strokeStyle:f},y=new i(x);return y.toZpl(e)}function o(e){var t=this.model,r=t.x1,n=void 0===r?"":r,a=t.x2,o=void 0===a?"":a,i=t.y1,s=void 0===i?"":i,c=t.y2,d=void 0===c?"":c,h=t.lineWidth,l=void 0===h?"":h,f=t.strokeStyle;f="white"===f||"#fff"===f||"#ffffff"===f?"W":"B";var u,p=Math.min(n,o),v=Math.min(s,d),m=Math.abs(o-n),g=Math.abs(d-s);o>=n&&d>=s?u="L":n>=o&&s>=d?u="L":n>=o&&d>=s?u="R":o>=n&&s>=d&&(u="R"),p+=e?e.left||0:0,v+=e?e.top||0:0;var b=[["^FO"+p,v],["^GD"+m,g,l,f,u],["^FS"]];return b}var i=e("./rect").Rect;r.Line=n},{"./rect":16}],16:[function(e,t,r){"use strict";function n(e){this.model=e,this.toZpl=function(e){var t=this.model,r=t.width,n=void 0===r?"":r,s=t.height,c=void 0===s?"":s,d=t.lineWidth,h=void 0===d?"":d,l=t.fillStyle,f=void 0===l?"":l,u=t.strokeStyle,p=t.left,v=t.top,m=t.rotation,g=t.round,b=void 0===g?0:g,x=t.text,y=i(m);switch(y){case"N":case"I":default:break;case"R":case"B":var w=n;n=c,c=w;var B=o(this.model);p=B.x,v=B.y}u="white"===u||"#fff"===u||"#ffffff"===u?"W":"B",f&&(f="white"===f||"#fff"===f||"#ffffff"===f?"W":"B",h=c,u=f),p+=e?e.left||0:0,v+=e?e.top||0:0;var k=[["^FO"+p,v],["^GB"+n,c,h,u,Math.round(8*b/100)],["^FS"]],I="";if(k.forEach(function(e){I+=e.join(",")+"\n"}),I+="\n",x){var F=new a.Text(this.model);I+=F.toZpl(e)}return I}}var a=e("./text"),o=e("./transcoord").shapeTranscoord,i=e("./transcoord").rotateCase;r.Rect=n},{"./text":17,"./transcoord":18}],17:[function(e,t,r){"use strict";function n(e){this.model=e,this.toZpl=function(e){var t=this.model,r=t.text,n=void 0===r?"":r,i=t.left,c=void 0===i?0:i,h=t.top,l=void 0===h?0:h,f=t.width,u=void 0===f?"":f,p=t.height,v=void 0===p?"":p,m=t.textType,g=void 0===m?"":m,b=t.charWidth,x=t.charHeight,y=(t.lineCount,t.rotation),w=void 0===y?0:y,B=(t.underLine,t.strike,t.maxLines),k=void 0===B?100:B,I=t.hangingIndent,F=t.lineMargin;u||(this.model.width=b*n.length),v&&""!==v||(this.model.height=x);var M=s(this.model);c=M.x,l=M.y,c+=e?e.left||0:0,l+=e?e.top||0:0;var A=w||"";A+=e?e.rotation||0:0;var W=this.model.textAlign||"";A=d(w);var S=o.fontNo||0;if("W"===g||"w"===g){switch(W){case"left":W="L";break;case"right":W="R";break;case"center":default:W="C";break;case"justified":W="J"}var C=[["^FO"+c,l],["^A"+S+A,x,b],["^FB"+u,k,F,W,I],["^FD"+n],["^FS"]]}else var C=[["^FO"+c,l],["^A"+S+A,x,b],["^FD"+n],["^FS"]];var G="";return G+=a.call(this,e,A,c,l),C.forEach(function(e){G+=e.join(",")+"\n"}),G}}function a(e){var t=this,r=this.model,n=r.left,a=r.top,o=r.width,s=r.textWidth,d=r.charHeight,h=r.lineCount,l=void 0===h?1:h,f=r.underLine,u=r.strike;s=s||o;var p=n,v=[],m="";if(f)for(var g=a,b=0;l>b;b++)g+=d,v.push({x1:p,x2:p+s,y1:g,y2:g});if(u)for(var x=a+d/2,y=0;l>y;y++)v.push({x1:p,x2:p+s,y1:x,y2:x}),x+=d;var w=v.map(function(e){var r=c(e.x1,e.y1,t.model),n=c(e.x2,e.y2,t.model);return{x1:r.x,x2:n.x,y1:r.y,y2:n.y}});return w.forEach(function(t){var r=new i(t);m+=r.toZpl(e)}),m}var o=e("../../config").config,i=e("./line").Line,s=e("./transcoord").textTranscoord,c=e("./transcoord").transcoordS2P,d=e("./transcoord").rotateCase;r.Text=n},{"../../config":1,"./line":15,"./transcoord":18}],18:[function(e,t,r){"use strict";function n(e,t,r,n){return{x:e+r/2,y:t+n/2}}function a(e,t){var r=arguments.length<=2||void 0===arguments[2]?{x:0,y:0}:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3],a=arguments.length<=4||void 0===arguments[4]?{x:1,y:1}:arguments[4];return e-=r.x,t-=r.y,{x:(e*Math.cos(n)-t*Math.sin(n)+r.x)*a.x,y:(e*Math.sin(n)+t*Math.cos(n)+r.y)*a.y}}function o(e,t,r){var o=r.left,i=r.top,s=r.width,c=r.height,d=r.rotation,h=void 0===d?0:d,l=(r.text,n(o,i,s,c)),f=a(e,t,l,h);return{x:f.x,y:f.y}}function i(e){var t=e.left,r=e.top,n=e.width,a=e.height,i=o(t,r,e),s=o(t+n,r+a,e),c=Math.min(i.x,s.x),d=Math.min(i.y,s.y);return{x:c,y:d}}function s(e){var t=i(e),r=t.x,n=t.y,a=h(e.rotation);switch(a){case"N":break;case"R":break;case"I":"left"===e.textAlign?e.textAlign="right":"right"===e.textAlign&&(e.textAlign="left");break;case"B":"left"===e.textAlign?e.textAlign="right":"right"===e.textAlign&&(e.textAlign="left"),e.text=e.text.split("").reverse().join("")}var o=c(e);return"N"===a||"I"===a?(r+=o.tx,n+=o.ty):(r+=o.ty,n+=o.tx),{x:r,y:n}}function c(e){var t=e.textAlign,r=void 0===t?"center":t,n=e.textBaseline,a=void 0===n?"middle":n,o=(e.left,e.width),i=e.height,s=e.charHeight,c=e.textWidth,d=(e.rotation,e.lineMargin),h=void 0===d?0:d,l=e.lineCount,f=void 0===l?1:l;c=c||o,o=Math.max(o,c);var u=(s+h)*f;i=Math.max(i,u);var p=0;switch(r){case"left":case"justify":p=0;break;case"right":p=o-c;break;case"center":default:p=(o-c)/2}var v=0;switch(a){case"top":case"hanging":v=0;break;case"bottom":case"alphabetic":v=i-u;break;case"middle":default:v=(i-u)/2}return{tx:p,ty:v}}function d(e){for(var t in e)if("rotation"!==t&&"scale_w"!==t&&"scale_h"!==t&&"round"!==t){var r=e[t];"number"==typeof r&&(e[t]=Math.round(l.dpi*r/25.4))}}function h(e){return e=.25*Math.PI<e&&e<=.75*Math.PI?"R":.75*Math.PI<e&&e<=1.25*Math.PI||-1.25*Math.PI<e&&e<=Math.PI*-.75?"I":Math.PI<1.25*e&&e<=1.75*Math.PI||Math.PI*-.75<e&&e<=Math.PI*-.25?"B":"N"}Object.defineProperty(r,"__esModule",{value:!0}),r.transcoordS2P=o,r.shapeTranscoord=i,r.textTranscoord=s,r.calcDotSize=d,r.rotateCase=h;var l=e("../../config").config},{"../../config":1}],19:[function(e,t,r){"use strict";var n,a,o,i=e("./commands/utils"),s=e("./commands/index").commands;r.convert=function(e){if(e){n={},a={},o=new Map;var t=[],r={},d=e.split("^");return d.forEach(function(e){if(0!==e.trim().length){e=e.replace("\n","");var o=e.substr(0,2);if("A"===o.charAt(0)){var d=e.substr(1),h=i.get(s,"A");if(!h)return;var l=h.handler(d);return void(r=Object.assign(r||{},l))}var h=i.get(s,o);if(h){var d;d="FD"===o?e.substr(2):e.substr(2).split(",").map(function(e){return e.trim()});var l=h.handler(d);switch(o){case"XZ":if(null==r)break;case"FS":r.type||(r.type="text",r.textAlign="left",r.textType=r.textType||"F"),r=c(r),r.centerRotate=!1,t.push(r),r=null;break;case"BY":Object.assign(a,l||{});break;case"CF":Object.assign(n,l||{});break;default:r=Object.assign(r||{},l)}}}}),t}};var c=function(e){switch(e.type){case"line":e.x1=e.left,e.x2=e.left+e.width,e.x1==e.x2&&e.lineWidth>=100&&(e.x1+=e.lineWidth/2,e.x2+=e.lineWidth/2),"L"===e.rotate?(e.y1=e.top,e.y2=e.top+e.height):(e.y1=e.top+e.height,e.y2=e.top),delete e.left,delete e.top,delete e.width,delete e.height,delete e.rotate;break;case"ellipse":e.cx=e.left+e.rx,e.cy=e.top+e.ry,delete e.left,delete e.top;break;case"text":(n.charHeight||n.charWidth)&&Object.assign(e,n);break;case"rect":break;case"image_view":break;case"barcode":e.height||(e.height=a.height),e.scale_w||(e.scale_w=a.scale_w)}return e}},{"./commands/index":8,"./commands/utils":10}],20:[function(e,t,r){"use strict";function n(e,t){if(e){if(f.length>0)var r=f.pop();return e.forEach(function(e){switch(l(e),e.type){case"group":f.push(new d(e)),t+=n(e.components,"");break;case"text":var u=new a(e);break;case"barcode":var u=new o(e);break;case"rect":var u=new i(e);break;case"ellipse":var u=new s(e);break;case"image":case"image-view":var u=new h(e);break;case"line":var u=new c(e)}u&&(t+=u.toZpl(r),t+="\n")}),t}}var a=e("./components/text").Text,o=e("./components/barcode").Barcode,i=e("./components/rect").Rect,s=e("./components/ellipse").Ellipse,c=e("./components/line").Line,d=e("./components/group").Group,h=e("./components/image").Image,l=e("./components/transcoord").calcDotSize;r.revert=function(e){if(e){var t="^XA\n";return t=n(e,t),t+="^XZ"}};var f=[]},{"./components/barcode":11,"./components/ellipse":12,"./components/group":13,"./components/image":14,"./components/line":15,"./components/rect":16,"./components/text":17,"./components/transcoord":18}]},{},[2]);